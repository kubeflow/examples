<script type="text/javascript">
    RED.nodes.registerType('algorithm', {
        category: 'autoAI pipeline',
        color: '#2E8B57',
        defaults: {
            name: {value:""},
            procedures: {value:""},
            fmethod: {value:"", required:true}, 
            feature_dimension: {value:"2", required:true},   
            amethod: {value:"", required:true},
            num_qubits: {value:"2", required:true}, 
            areps: {value:"1", required:true},  
            entanglement: {value:"", required:true},               
        },
        inputs:1,
        outputs:1,
        icon: "font-awesome/fa-link",
        label: function() {
            return this.name || "qnn";
        },
        oneditprepare: function() {
    
            function toggleVisibility() {
                var proceduresValue = $("#node-input-procedures").val();
                
                $(".toggle-featuremap,.toggle-ansatz").hide();
            
                if (proceduresValue === "featuremap") {
                    $(".toggle-featuremap").show();

                }else if(proceduresValue === "ansatz"){
                    $(".toggle-ansatz").show();
                }
            }

            toggleVisibility()

            $("#node-input-procedures").on("change", toggleVisibility);
        },

    });
</script>

<script type="text/x-red" data-template-name="algorithm">
    <div class="form-row">
        <label for="node-input-name">Name</label>
        <input type="text" id="node-input-name" placeholder="Name" />
    </div>
    <div class="form-row">
        <label for="node-input-procedures">procedures</label>
        <select id="node-input-procedures">
            <option value="featuremap">feature_map</option>
            <option value="ansatz">ansatz</option>
        </select>
    </div>
    
    
    <!-- f Specific Fields -->
    <div class="form-row toggle-featuremap">
        <label for="node-input-fmethod">method</label>
        <select id="node-input-fmethod">
            <option value="ZZFeatureMap">ZZFeatureMap</option>
            <option value="PauliFeatureMap">PauliFeatureMap</option>
        </select>
        <br><br>
        <label for="node-input-feature_dimension">feature_dimension</label>
        <input type="number" min="2" id="node-input-feature_dimension" style="width: 306px; margin-left: 23px;"/>
    </div>

    <!-- a Fields -->
    <div class="form-row toggle-ansatz">
        <label for="node-input-amethod">method</label>
        <select id="node-input-amethod">
            <option value="RealAmplitudes">RealAmplitudes</option>
            <option value="EfficientSU2">EfficientSU2</option>
        </select>
        <br><br>
        <label for="node-input-num_qubits" id="num_qubits"
          ><i class="fa"></i>num_qubits
        </label>
        <input type="number" min="1" id="node-input-num_qubits" />
        <br><br>
        <label for="node-input-areps" id="areps"
        ><i class="fa"></i>reps
        </label>
        <input type="number" min="1"  id="node-input-areps"  />
        <br><br>
        <label for="node-input-entanglement">entanglement</label>
        <select id="node-input-entanglement">
            <option value="linear">linear</option>
            <option value="full">full</option>
            <option value="circular">circular</option>
        </select>
    </div>
    
</script>

<script type="text/x-red" data-help-name="algorithm">
    <p>A node for different algorithms.</p>
</script>




